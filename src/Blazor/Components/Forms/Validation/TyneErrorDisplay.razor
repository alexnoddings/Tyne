@namespace Tyne.Blazor

<MudAlert Severity="Severity ?? MudBlazor.Severity.Error">
    @Error.Message
    @if (IncludeCode && Error.Code != Tyne.Error.Default.Code)
    {
        <text> (@Error.Code)</text>
    }
</MudAlert>

@code
{
    [Parameter]
    public Error Error { get; set; } = null!;

    [Parameter]
    public Severity? Severity { get; set; }

    [Parameter]
    public bool IncludeCode { get; set; } = true;

    protected override void OnParametersSet()
    {
        if (Error is null)
            throw new InvalidOperationException($"Property {nameof(Error)} cannot be null.");
    }
}
